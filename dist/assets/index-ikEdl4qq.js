(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();const l=document.getElementById("menu-toggle"),c=document.getElementById("nav-links");l&&c&&(l.addEventListener("click",()=>{l.classList.toggle("active"),c.classList.toggle("active"),document.body.style.overflow=c.classList.contains("active")?"hidden":""}),c.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{l.classList.remove("active"),c.classList.remove("active"),document.body.style.overflow=""})}));const d=document.querySelector(".cursor-follower");document.addEventListener("mousemove",e=>{d&&(d.style.left=`${e.clientX}px`,d.style.top=`${e.clientY}px`)});const f=document.getElementById("header");window.addEventListener("scroll",()=>{window.scrollY>60?f.classList.add("scrolled"):f.classList.remove("scrolled")},{passive:!0});document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){const r=this.getAttribute("href");if(r==="#")return;t.preventDefault();const n=document.querySelector(r);if(n){const s=f.offsetHeight,o=n.getBoundingClientRect().top+window.scrollY-s-20;window.scrollTo({top:o,behavior:"smooth"})}})});const p=new IntersectionObserver(e=>{e.forEach((t,r)=>{var n;if(t.isIntersecting){const s=(n=t.target.parentElement)==null?void 0:n.querySelectorAll(".reveal, .reveal-right");let o=0;s&&(o=Array.from(s).indexOf(t.target)*100),setTimeout(()=>{t.target.classList.add("visible")},o),p.unobserve(t.target)}})},{threshold:.12,rootMargin:"0px 0px -60px 0px"});document.querySelectorAll(".reveal, .reveal-right").forEach(e=>{p.observe(e)});function w(e){const t=parseFloat(e.dataset.count),r=e.dataset.decimal!==void 0,n=parseInt(e.dataset.decimal||"0"),s=1800,o=performance.now();function i(L){const b=L-o,m=Math.min(b/s,1),E=1-Math.pow(2,-10*m),v=t*E;e.textContent=r?v.toFixed(n):Math.floor(v).toString(),m<1?requestAnimationFrame(i):e.textContent=r?t.toFixed(n):t.toString()}requestAnimationFrame(i)}const y=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&(t.target.querySelectorAll(".stat-value[data-count]").forEach(r=>{w(r)}),y.unobserve(t.target))})},{threshold:.5}),g=document.querySelector(".hero-stats");g&&y.observe(g);document.querySelectorAll(".faq-question").forEach(e=>{e.addEventListener("click",()=>{const t=e.closest(".faq-item"),r=t.classList.contains("active");document.querySelectorAll(".faq-item.active").forEach(n=>{n.classList.remove("active")}),r||t.classList.add("active")})});const u=document.getElementById("sticky-cta");window.addEventListener("scroll",()=>{u&&(window.scrollY>window.innerHeight*.7?u.classList.add("visible"):u.classList.remove("visible"))},{passive:!0});const a=document.getElementById("contact-form");a&&a.addEventListener("submit",e=>{e.preventDefault();const t=a.querySelector("#form-submit-btn"),r=t.querySelector("span"),n=r.textContent;t.disabled=!0,r.textContent="Отправка...",setTimeout(()=>{r.textContent="✓ Заявка принята!",t.style.background="linear-gradient(135deg, #4caf50, #81c784)",a.reset(),setTimeout(()=>{t.disabled=!1,r.textContent=n,t.style.background=""},4e3)},1500)});const h=document.getElementById("phone");h&&h.addEventListener("input",function(){let e=this.value.replace(/\D/g,"");e.startsWith("8")&&(e="7"+e.slice(1)),e.startsWith("7")||(e="7"+e),e=e.slice(0,11);let t="+7";e.length>1&&(t+=" ("+e.slice(1,4)),e.length>=4&&(t+=") "+e.slice(4,7)),e.length>=7&&(t+="-"+e.slice(7,9)),e.length>=9&&(t+="-"+e.slice(9,11)),this.value=t});
