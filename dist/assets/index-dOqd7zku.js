(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();const l=document.getElementById("menu-toggle"),c=document.getElementById("nav-links");l&&c&&(l.addEventListener("click",()=>{l.classList.toggle("active"),c.classList.toggle("active"),document.body.style.overflow=c.classList.contains("active")?"hidden":""}),c.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{l.classList.remove("active"),c.classList.remove("active"),document.body.style.overflow=""})}));const d=document.querySelector(".cursor-follower");document.addEventListener("mousemove",e=>{d&&(d.style.left=`${e.clientX}px`,d.style.top=`${e.clientY}px`)});const f=document.getElementById("header");window.addEventListener("scroll",()=>{window.scrollY>60?f.classList.add("scrolled"):f.classList.remove("scrolled")},{passive:!0});document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){const s=this.getAttribute("href");if(s==="#")return;t.preventDefault();const n=document.querySelector(s);if(n){const o=f.offsetHeight,r=n.getBoundingClientRect().top+window.scrollY-o-20;window.scrollTo({top:r,behavior:"smooth"})}})});function y(e){var n;if(e.classList.contains("visible"))return;const t=(n=e.parentElement)==null?void 0:n.querySelectorAll(".reveal, .reveal-right");let s=0;t&&(s=Array.from(t).indexOf(e)*100),setTimeout(()=>{e.classList.add("visible")},s)}const m=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&(y(t.target),m.unobserve(t.target))})},{threshold:.05,rootMargin:"50px 0px -30px 0px"}),b=document.querySelectorAll(".reveal, .reveal-right");b.forEach(e=>{m.observe(e)});requestAnimationFrame(()=>{b.forEach(e=>{const t=e.getBoundingClientRect();t.top<window.innerHeight&&t.bottom>0&&(y(e),m.unobserve(e))})});setTimeout(()=>{document.querySelectorAll("#hero .reveal, #hero .reveal-right").forEach(e=>{e.classList.add("visible")})},1500);function S(e){const t=parseFloat(e.dataset.count),s=e.dataset.decimal!==void 0,n=parseInt(e.dataset.decimal||"0"),o=1800,r=performance.now();function i(E){const w=E-r,v=Math.min(w/o,1),q=1-Math.pow(2,-10*v),g=t*q;e.textContent=s?g.toFixed(n):Math.floor(g).toString(),v<1?requestAnimationFrame(i):e.textContent=s?t.toFixed(n):t.toString()}requestAnimationFrame(i)}const L=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&(t.target.querySelectorAll(".stat-value[data-count]").forEach(s=>{S(s)}),L.unobserve(t.target))})},{threshold:.5}),h=document.querySelector(".hero-stats");h&&L.observe(h);document.querySelectorAll(".faq-question").forEach(e=>{e.addEventListener("click",()=>{const t=e.closest(".faq-item"),s=t.classList.contains("active");document.querySelectorAll(".faq-item.active").forEach(n=>{n.classList.remove("active")}),s||t.classList.add("active")})});const u=document.getElementById("sticky-cta");window.addEventListener("scroll",()=>{u&&(window.scrollY>window.innerHeight*.7?u.classList.add("visible"):u.classList.remove("visible"))},{passive:!0});const a=document.getElementById("contact-form");a&&a.addEventListener("submit",e=>{e.preventDefault();const t=a.querySelector("#form-submit-btn"),s=t.querySelector("span"),n=s.textContent;t.disabled=!0,s.textContent="Отправка...",setTimeout(()=>{s.textContent="✓ Заявка принята!",t.style.background="linear-gradient(135deg, #4caf50, #81c784)",a.reset(),setTimeout(()=>{t.disabled=!1,s.textContent=n,t.style.background=""},4e3)},1500)});const p=document.getElementById("phone");p&&p.addEventListener("input",function(){let e=this.value.replace(/\D/g,"");e.startsWith("8")&&(e="7"+e.slice(1)),e.startsWith("7")||(e="7"+e),e=e.slice(0,11);let t="+7";e.length>1&&(t+=" ("+e.slice(1,4)),e.length>=4&&(t+=") "+e.slice(4,7)),e.length>=7&&(t+="-"+e.slice(7,9)),e.length>=9&&(t+="-"+e.slice(9,11)),this.value=t});
